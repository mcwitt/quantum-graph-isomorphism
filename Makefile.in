source = @root@
build = @build@

VPATH = $(source):$(source)/..

CC = gcc
CFLAGS = -Wall -O3
#CFLAGS = -Wall -g

CFLAGS += -DVERSION=\"$(shell git describe --abbrev=0)\"
LDLIBS = -lm -lgsl -lgslcblas

COMM_OBJS = amatrix.o global.o nlcg.o params.o qaa.o
OBJS = cg.o cgs.o $(COMM_OBJS)
BINARIES = cg cgs

BINS = $(addprefix $(build)/, $(BINARIES))

all: $(BINS)

$(BINS): $(COMM_OBJS)

$(build)/cg: cg.o

$(build)/cgs: cgs.o

.PHONY: clean

clean:
	$(RM) $(OBJS)


